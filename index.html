<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Interface</title>
    <link rel="stylesheet" href="./css/index.css">
    <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- ใช้ Firebase SDK เวอร์ชัน 8 จาก CDN -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <div class="container">
        <div class="profile-image">IMAGE</div>
        <div class="user-info">
            <p>สวัสดีคุณ : กำลังโหลด...</p>
            <p>memberCode : กำลังโหลด...</p>
            <p>ตำแหน่ง : กำลังโหลด...</p>
        </div>
        <div class="button-group">
            <button class="btn blue" id="check-in-btn" data-action="check-in">เข้างาน</button>
            <button class="btn yellow" id="check-out-btn" data-action="check-out">ออกงาน</button>
            <button class="btn green" id="leave-btn">บันทึกเวลา</button>
            <button class="btn red">ปิดระบบ</button>
        </div>
    </div>
    
    <div class="container2" style="display:none;">
        <div class="header">
            <button class="time-btn">เวลาปัจจุบัน</button>
        </div>
        <div class="image-container">
            <span id="placeholder-text">IMAGE</span>
        </div>        
        <div class="button-group">
            <button class="btn yellow" onclick="openCamera()">เปิดกล้อง</button>
            <button class="btn green" id="captureButton" onclick="captureImage()">ถ่ายรูป</button>
            <button class="btn green" id="retakeButton" onclick="retakeImage()" style="display:none;">ถ่ายรูปใหม่</button>
        </div>
        <div class="footer">
            <button class="btn red" id="cancelButton" >ยกเลิก</button>
            <button class="btn blue" id="nextButton" onclick="showContainer3()">ถัดไป</button>
        </div>
    </div>
    
    <div class="container3" style="display:none;">
        <div class="header">
            <button class="time-btn">เวลาปัจจุบัน</button>
        </div>
        <div class="map-container">MAP</div>
        <div class="button-group">
            <button class="btn green" onclick="checkLocation()">เช็คตำแหน่ง</button>
        </div>
        <div class="footer">
            <button class="btn red" id="cancelButtonMap" >ยกเลิก</button>
            <button class="btn blue" id="saveButton">บันทึก</button>
        </div>
    </div>

    <script src="./index.js"></script> 

    <script>
        // ตั้งค่า Firebase (ใช้ Firebase SDK เวอร์ชัน compat เพื่อรองรับโค้ดแบบเก่า)
        const firebaseConfig = {
          apiKey: "AIzaSyBZB4jmbhWHTQbk7FiDtu3q-cE1ryByvTA",
          authDomain: "timeinout-310f0.firebaseapp.com",
          databaseURL: "https://timeinout-310f0-default-rtdb.firebaseio.com",
          projectId: "timeinout-310f0",
          storageBucket: "timeinout-310f0.appspot.com",
          messagingSenderId: "756973933115",
          appId: "1:756973933115:web:34344b10d3ee05279e421e",
          measurementId: "G-7Z0B2DDQN9"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>   
</body>
</html>
